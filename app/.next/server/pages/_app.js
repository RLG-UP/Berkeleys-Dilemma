(()=>{var e={};e.id=636,e.ids=[636],e.modules={4771:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.d(r,{A:()=>c});var o=s(1428),a=e([o]);let n=(o=(a.then?(await a)():a)[0]).default.create({baseURL:"https://berkeleys-dilemma.onrender.com",headers:{"Content-Type":"application/json"}});n.interceptors.response.use(e=>e,e=>(e.response?(console.log("API Error Response:",e.response.data),console.log("API Error Status:",e.response.status),console.log("API Error Headers:",e.response.headers)):e.request?console.log("No response from server:",e.request):console.log("Error Message:",e.message),e.response&&401===e.response.status?console.log("Error 401 - Unauthorized access!"):console.log("API Error:",e.response?.data?.message||e.message),Promise.reject(e)));let c=n;t()}catch(e){t(e)}})},2327:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{default:()=>l});var o=s(8732);s(4249),s(8332),s(2015),s(2350),s(1106);var a=s(8269),n=s(8133),c=s.n(n),i=e([a]);a=(i.then?(await i)():i)[0];let l=function({Component:e,pageProps:r}){return(0,o.jsxs)(a.Ay,{children:[(0,o.jsx)(e,{...r}),(0,o.jsx)(c(),{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js",integrity:"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz",crossOrigin:"anonymous",strategy:"afterInteractive"})]})};t()}catch(e){t(e)}})},8269:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.d(r,{Ay:()=>f,BC:()=>m,Jv:()=>d,g2:()=>g,gw:()=>y,iD:()=>p,p_:()=>u,ri:()=>A});var o=s(8732),a=s(2015),n=s(6824),c=s(3434),i=s(4771),l=e([i]);i=(l.then?(await l)():l)[0];let h=(0,a.createContext)();function u(){return(0,a.useContext)(h)}async function p(e,r,s){try{let t=await i.A.post("/login",{username:e,password:r});return s(t.data.success?{type:c.S3,payload:t.data.user}:{type:c.FS,payload:!0}),t.data.success}catch(e){console.error("Error logging in:",e)}}async function d(e,r,s,t,o){console.log("Axios API Instance:",i.A);try{console.log("--->Requesting to: /signin");let a=await i.A.post("/signin",{email:e,name:r,username:s,password:t});console.log("Response from sign-in:",a),a.data.success?o({type:c.X,payload:{email:e,name:r,username:s,bestScore:0}}):(o({type:c.X,payload:null}),console.log(a.data.message))}catch(e){console.error("Error signing in:",e)}}async function y(e,r,s,t,o){try{let a=await i.A.post("/save-profile",{userId:e,name:r,username:s,email:t});200===a.status?o({type:c.AI,payload:{name:r,username:s,email:t}}):console.error("Error updating user profile:",a.data.message)}catch(e){console.error("Error editing user profile:",e)}}async function g(e,r,s){console.log("---->Trying to update score");try{let t=await i.A.post("/update-score",{userId:r,score:s});void 0!==t.data.bestScore?e({type:c.PZ,payload:t.data.bestScore}):console.error("Error updating score:",t.data.message)}catch(e){console.error("Error updating score:",e)}}async function A(e){try{e({type:c.T_,payload:null})}catch(e){console.error("Error Logging Out: ",e)}}async function m(e){let r=await i.A.post("/Top");r.status&&e({type:c.Wq,payload:r.data.topUsers})}let f=function({children:e}){let r={user:{bestScore:0},loggedState:!1,apiKey:process.env.MAP_PASS,topUsers:[],dopple:!1},[s,t]=(0,a.useReducer)(n.A,r);return(0,o.jsx)(h.Provider,{value:{state:s,dispatch:t,login:p,signIn:d,updateScore:g,stateTop:m,logout:A,editUser:y},children:e})};t()}catch(e){t(e)}})},6824:(e,r,s)=>{"use strict";s.d(r,{A:()=>o});var t=s(3434);let o=function(e,r){switch(r.type){case t.X:return{...e,user:r.payload};case t.S3:return{...e,user:r.payload,loggedState:!0};case t.T_:return{...e,user:{},loggedState:!1};case t.AI:return{...e,user:{...e.user,...r.payload}};case t.PZ:return{...e,bestScore:r.payload};case t.Wq:return{...e,topUsers:r.payload};case t.FS:return{...e};default:throw Error(`Unsupported action ${r.type}`)}}},3434:(e,r,s)=>{"use strict";s.d(r,{AI:()=>n,FS:()=>l,PZ:()=>c,S3:()=>o,T_:()=>a,Wq:()=>i,X:()=>t});let t="SIGNIN",o="LOGIN",a="LOGOUT",n="EDIT_INFO",c="UPDATE_SCORE",i="UPDATE_TOP",l="FAKE_LOG"},4249:()=>{},8332:()=>{},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},1428:e=>{"use strict";e.exports=import("axios")}};var r=require("../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[514,161],()=>s(2327));module.exports=t})();